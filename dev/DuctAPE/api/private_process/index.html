<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Process · DuctAPE.jl</title><meta name="title" content="Process · DuctAPE.jl"/><meta property="og:title" content="Process · DuctAPE.jl"/><meta property="twitter:title" content="Process · DuctAPE.jl"/><meta name="description" content="Documentation for DuctAPE.jl."/><meta property="og:description" content="Documentation for DuctAPE.jl."/><meta property="twitter:description" content="Documentation for DuctAPE.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="DuctAPE.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">DuctAPE.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">DuctAPE</span><ul><li><a class="tocitem" href="../../tutorial/">Getting Started</a></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Advanced Usage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../advanced_usage/option/">Options</a></li><li><a class="tocitem" href="../../advanced_usage/precompilation/">Preallocation</a></li><li><a class="tocitem" href="../../advanced_usage/outputs/">Outputs</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox" checked/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../public_api/">Public API Reference</a></li><li><input class="collapse-toggle" id="menuitem-2-3-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2-3-2"><span class="docs-label">Private API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../private_prelims/">Prelims</a></li><li><a class="tocitem" href="../private_preprocess/">Preprocess</a></li><li class="is-active"><a class="tocitem" href>Process</a><ul class="internal"><li><a class="tocitem" href="#Analysis"><span>Analysis</span></a></li></ul></li><li><a class="tocitem" href="../private_postprocess/">Postprocess</a></li><li><a class="tocitem" href="../private_utilities/">Utilities</a></li></ul></li><li><a class="tocitem" href="../api_index/">API Index</a></li></ul></li><li><a class="tocitem" href="../../theory/">Theory</a></li></ul></li><li><span class="tocitem">C<span>$^4$</span>Blade</span><ul><li><a class="tocitem" href="../../../C4Blade/intro/">Intro</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Blade Element Types</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../C4Blade/airfoil_types/DFDC/">DFDC Airfoil Type</a></li><li><a class="tocitem" href="../../../C4Blade/airfoil_types/CCBlade/">CCBlade Airfoil Types</a></li><li><a class="tocitem" href="../../../C4Blade/airfoil_types/actuator_disk/">Actuator Disk Type</a></li><li><a class="tocitem" href="../../../C4Blade/airfoil_types/cascade/">Cascade Types</a></li></ul></li><li><a class="tocitem" href="../../../C4Blade/corrections/">Polar Modification</a></li><li><a class="tocitem" href="../../../C4Blade/api/">API Reference</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">DuctAPE</a></li><li><a class="is-disabled">API</a></li><li><a class="is-disabled">Private API Reference</a></li><li class="is-active"><a href>Process</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Process</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/byuflowlab/DuctAPE.jl/blob/{commit}{path}#L{line}" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/byuflowlab/DuctAPE.jl/blob/main/docs/src/DuctAPE/api/private_process.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h2 id="Analysis"><a class="docs-heading-anchor" href="#Analysis">Analysis</a><a id="Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Analysis" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.analyze_multipoint" href="#DuctAPE.analyze_multipoint"><code>DuctAPE.analyze_multipoint</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">analyze_multipoint(
    operating_point::OperatingPoint,
    propulsor::Propulsor,
    prepost_containers,
    solve_parameter_cache_vector,
    solve_parameter_cache_dims,
    airfoils,
    A_bb_LU,
    idmaps,
    problem_dimensions,
    options::Options;
    solve_container_caching=nothing,
    return_inputs=false,
)</code></pre><p>Identical to the single analyze function assuming <code>setup_analysis</code> has been called; except here we are running a single operating point for a multipoint analysis, and overwriting the operating point in the propulsor with the explicit operating point input.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/analysis/analyses.jl#L394-L411">source</a></section></article><h3 id="Process"><a class="docs-heading-anchor" href="#Process">Process</a><a id="Process-1"></a><a class="docs-heading-anchor-permalink" href="#Process" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.process" href="#DuctAPE.process"><code>DuctAPE.process</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">process(
    solver_options::SolverOptionsType,
    solve_parameter_cache_vector,
    solve_parameter_cache_dims,
    airfoils,
    A_bb_LU,
    solve_container_caching,
    idmaps,
    options,
)</code></pre><p>Process (the step between pre-process and post-process) the solution, in other words: call the solver(s).</p><p><strong>Arguments</strong></p><ul><li><code>solver_options::SolverOptionsType</code> : the solver options contained in the options object, used for dispatch.</li><li><code>solve_parameter_cache_vector::Vector{Float}</code> : The vector cache for parameters used in the solve.</li><li><code>solve_parameter_cache_dims::NamedTuple</code> : A named tuple containing the dimensions of the solve parameters.</li><li><code>airfoils::NamedTuple</code> : The airfoils to be interpolated that are associated with each blade element</li><li><code>A_bb_LU::LinearAlgebra.LU</code> : The LU decomposition of the panel method LHS matrix</li><li><code>solve_container_caching::NamedTuple</code> : A named tuple containing the cache and dimensions for the intermediate solve values.</li><li><code>idmaps::NamedTuple</code> : The set of index maps used in various solve sub-functions</li><li><code>options::Options</code> : User options</li></ul><p><strong>Returns</strong></p><ul><li><code>converged_states::Vector{Float}</code> : The output of a call to <code>ImplicitAD.implicit</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/process.jl#L1-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.solve" href="#DuctAPE.solve"><code>DuctAPE.solve</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">solve(sensitivity_parameters, const_cache; initial_guess=nothing)</code></pre><p>A compact dispatch of <code>solve</code> that automatically dispatches based on the solver<em>options contained in const</em>cache.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/solve.jl#L1-L5">source</a></section><section><div><pre><code class="language-julia hljs">solve(
    solver_options::SolverOptionsType,
    sensitivity_parameters,
    const_cache;
    initial_guess=nothing,
)</code></pre><p>Converge the residual, solving for the state variables that do so.</p><p><strong>Arguments</strong></p><ul><li><code>solver_options::SolverOptionsType</code> : SolverOptionsType used for dispatch</li><li><code>sensitivity_parameters::Vector{Float}</code> : Sensitivity parameters for solve (parameters passed in through ImplicitAD)</li><li><code>const_cache::NamedTuple</code> : A named tuple containing constants and caching helpers.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>initial_guess=nothing::Vector{Float}</code> : An optional manually provided initial guess (contained in the sensitivity parameters anyway).</li></ul><p><strong>Returns</strong></p><ul><li><code>converged_states::Vector{Float}</code> : the states for which the residual has converged.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/solve.jl#L19-L39">source</a></section></article><h4 id="Residuals"><a class="docs-heading-anchor" href="#Residuals">Residuals</a><a id="Residuals-1"></a><a class="docs-heading-anchor-permalink" href="#Residuals" title="Permalink"></a></h4><h5 id="CSOR"><a class="docs-heading-anchor" href="#CSOR">CSOR</a><a id="CSOR-1"></a><a class="docs-heading-anchor-permalink" href="#CSOR" title="Permalink"></a></h5><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.CSOR_residual!" href="#DuctAPE.CSOR_residual!"><code>DuctAPE.CSOR_residual!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CSOR_residual!(resid, state_variables, sensitivity_parameters, constants)</code></pre><p>The in-place residual used for the CSOR solve method.</p><p><strong>Arguments</strong></p><ul><li><code>resid::Vector{Float}</code> : In-place residual.</li><li><code>state_variables::Vector{Float}</code> : The state variables</li><li><code>sensitivity_parameters::Vector{Float}</code> : The parameters to which the solution is sensitive.</li><li><code>constants::NamedTuple</code> : Various constants required in the solve</li></ul><p><strong>Returns</strong></p><ul><li><code>state_variables::Vector{Float}</code> : The state variables (modified in place)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L1-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.compute_CSOR_residual!" href="#DuctAPE.compute_CSOR_residual!"><code>DuctAPE.compute_CSOR_residual!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">compute_CSOR_residual!(
    resid,
    solver_options,
    solve_containers,
    Gamr,
    sigr,
    gamw,
    operating_point,
    ivr,
    ivw,
    linsys,
    blade_elements,
    wakeK,
    idmaps;
    verbose=false,
)</code></pre><p>Description</p><p><strong>Arguments</strong></p><ul><li><code>resid::Vector{Float}</code> : the residual vector</li><li><code>solver_options::SolverOptionsType</code> : solver options (used for convergence criteria)</li><li><code>solve_containers::NamedTuple</code> : cache for intermediate solve values</li><li><code>Gamr::type</code> : Blade element circulation strengths</li><li><code>sigr::type</code> : Rotor source panel strengths</li><li><code>gamw::type</code> : Wake vortex panel strengths</li><li><code>operating_point::NamedTuple</code> : Named tuple containing operating_point information</li><li><code>ivr::NamedTuple</code> : unit induced velocities on rotor(s)</li><li><code>ivw::NamedTuple</code> : unit induced velocities on wake</li><li><code>linsys::NamedTuple</code> : vectors and matricies comprising the panel method linear system</li><li><code>blade_elements::NamedTuple</code> : blade element geometry and airfoil polar information</li><li><code>wakeK::Vector{Float}</code> : geometric constants used in caculating wake strengths</li><li><code>idmaps::NamedTuple</code> : index maps used throughout solve</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>verbose::Bool=false</code> : Flag to print verbose statements</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L115-L152">source</a></section><section><div><pre><code class="language-julia hljs">compute_CSOR_residual!(
    resid,
    solver_options,
    solve_containers,
    Gamr,
    sigr,
    gamw,
    operating_point,
    ivr,
    ivw,
    linsys,
    blade_elements,
    wakeK,
    idmaps;
    verbose=false,
)</code></pre><p>Description</p><p><strong>Arguments</strong></p><ul><li><code>resid::Vector{Float}</code> : the residual vector</li><li><code>solver_options::SolverOptionsType</code> : solver options (used for convergence criteria)</li><li><code>solve_containers::NamedTuple</code> : cache for intermediate solve values</li><li><code>Gamr::type</code> : Blade element circulation strengths</li><li><code>sigr::type</code> : Rotor source panel strengths</li><li><code>gamw::type</code> : Wake vortex panel strengths</li><li><code>operating_point::NamedTuple</code> : Named tuple containing operating_point information</li><li><code>ivr::NamedTuple</code> : unit induced velocities on rotor(s)</li><li><code>ivw::NamedTuple</code> : unit induced velocities on wake</li><li><code>linsys::NamedTuple</code> : vectors and matricies comprising the panel method linear system</li><li><code>blade_elements::NamedTuple</code> : blade element geometry and airfoil polar information</li><li><code>wakeK::Vector{Float}</code> : geometric constants used in caculating wake strengths</li><li><code>idmaps::NamedTuple</code> : index maps used throughout solve</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>verbose::Bool=false</code> : Flag to print verbose statements</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual_iad.jl#L110-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.relax_Gamr!" href="#DuctAPE.relax_Gamr!"><code>DuctAPE.relax_Gamr!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">relax_Gamr!(
    Gamr,
    delta_prev_mat,
    delta_mat,
    maxBGamr,
    maxdeltaBGamr,
    B;
    nrf=0.4,
    bt1=0.2,
    bt2=0.6,
    pf1=0.4,
    pf2=0.5,
    test=false,
)</code></pre><p>Apply relaxed step to Gamr.</p><p><strong>Arguments</strong></p><ul><li><code>Gamr::Array{Float}</code> : Array of rotor circulations (columns = rotors, rows = blade elements), updated in place</li><li><code>delta_prev_mat::Array{Float}</code> : Array of previous iteration&#39;s differences in circulation values, updated in place</li><li><code>delta_mat::Array{Float}</code> : Array of current iteration&#39;s differences in circulation values</li><li><code>B::Vector{Float}</code> : number of blades on each rotor</li><li><code>nrf::Float=0.4</code> : nominal relaxation factor</li><li><code>bt1::Float=0.2</code> : backtrack factor 1</li><li><code>bt2::Float=0.6</code> : backtrack factor 2</li><li><code>pf1::Float=0.4</code> : press forward factor 1</li><li><code>pf2::Float=0.5</code> : press forward factor 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L389-L417">source</a></section><section><div><pre><code class="language-julia hljs">relax_Gamr!(
    Gamr,
    delta_prev_mat,
    delta_mat,
    maxBGamr,
    B;
    nrf=0.4,
    bt1=0.2,
    bt2=0.6,
    pf1=0.4,
    pf2=0.5,
    test=false,
)</code></pre><p>Apply relaxed step to Gamr.</p><p><strong>Arguments</strong></p><ul><li><code>Gamr::Array{Float}</code> : Array of rotor circulations (columns = rotors, rows = blade elements), updated in place</li><li><code>delta_prev_mat::Array{Float}</code> : Array of previous iteration&#39;s differences in circulation values, updated in place</li><li><code>delta_mat::Array{Float}</code> : Array of current iteration&#39;s differences in circulation values</li><li><code>B::Vector{Float}</code> : number of blades on each rotor</li><li><code>nrf::Float=0.4</code> : nominal relaxation factor</li><li><code>bt1::Float=0.2</code> : backtrack factor 1</li><li><code>bt2::Float=0.6</code> : backtrack factor 2</li><li><code>pf1::Float=0.4</code> : press forward factor 1</li><li><code>pf2::Float=0.5</code> : press forward factor 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual_iad.jl#L389-L416">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.relax_gamw!" href="#DuctAPE.relax_gamw!"><code>DuctAPE.relax_gamw!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">relax_gamw!(
    gamw, delta_prev, delta, maxdeltagamw; nrf=0.4, btw=0.6, pfw=1.2, test=false
)</code></pre><p>Apply relaxed step to gamw.</p><p><strong>Arguments</strong></p><ul><li><code>gamw::Array{Float}</code> : Array of rotor circulations (columns = rotors, rows = blade elements), updated in place</li><li><code>delta_prev_mat::Array{Float}</code> : Array of previous iteration&#39;s differences in circulation values, updated in place</li><li><code>delta_mat::Array{Float}</code> : Array of current iteration&#39;s differences in circulation values</li><li><code>B::Vector{Float}</code> : number of blades on each rotor</li><li><code>nrf::Float=0.4</code> : nominal relaxation factor</li><li><code>bt1::Float=0.2</code> : backtrack factor 1</li><li><code>bt2::Float=0.6</code> : backtrack factor 2</li><li><code>pf1::Float=0.4</code> : press forward factor 1</li><li><code>pf2::Float=0.5</code> : press forward factor 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L520-L537">source</a></section><section><div><pre><code class="language-julia hljs">relax_gamw!(
    gamw, delta_prev, delta; nrf=0.4, btw=0.6, pfw=1.2, test=false
)</code></pre><p>Apply relaxed step to gamw.</p><p><strong>Arguments</strong></p><ul><li><code>gamw::Array{Float}</code> : Array of rotor circulations (columns = rotors, rows = blade elements), updated in place</li><li><code>delta_prev_mat::Array{Float}</code> : Array of previous iteration&#39;s differences in circulation values, updated in place</li><li><code>delta_mat::Array{Float}</code> : Array of current iteration&#39;s differences in circulation values</li><li><code>B::Vector{Float}</code> : number of blades on each rotor</li><li><code>nrf::Float=0.4</code> : nominal relaxation factor</li><li><code>bt1::Float=0.2</code> : backtrack factor 1</li><li><code>bt2::Float=0.6</code> : backtrack factor 2</li><li><code>pf1::Float=0.4</code> : press forward factor 1</li><li><code>pf2::Float=0.5</code> : press forward factor 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual_iad.jl#L518-L535">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.apply_relaxation_schedule" href="#DuctAPE.apply_relaxation_schedule"><code>DuctAPE.apply_relaxation_schedule</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">apply_relaxation_schedule(
    resid::AbstractVector, solver_options::TS
) where {TS&lt;:SolverOptionsType}</code></pre><p>Apply custom relaxation schedule to all relaxation factor inputs based on residual values.</p><p><strong>Arguments</strong></p><ul><li><code>resid::AbstractVector{Float}</code> : current residual values</li><li><code>solver_options::SolverOptionsType</code> : SolverOptions containing relaxation schedule</li></ul><p><strong>Returns</strong></p><ul><li><code>nrf::Float</code> : nominal relaxation factor</li><li><code>bt1::Float</code> : backtrack factor 1</li><li><code>bt2::Float</code> : backtrack factor 2</li><li><code>pf1::Float</code> : press forward factor 1</li><li><code>pf2::Float</code> : press forward factor 2</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L574-L591">source</a></section><section><div><pre><code class="language-julia hljs">apply_relaxation_schedule(resid, nominal, schedule)</code></pre><p>Apply custom relaxation schedule to a single relaxation factor input.</p><p><strong>Arguments</strong></p><ul><li><code>resid::Float</code> : residual value</li><li><code>nominal::Float</code> : nominal relaxation value</li><li><code>schedule::AbstractVector{AbstractVector{Float}}</code> : values between which to interpolate to scale the nominal relaxation value.</li></ul><p><strong>Returns</strong></p><ul><li><code>rf::Float</code> : the updated relaxation factor</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L616-L628">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.update_CSOR_residual_values!" href="#DuctAPE.update_CSOR_residual_values!"><code>DuctAPE.update_CSOR_residual_values!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_CSOR_residual_values!(
    convergence_type::ConvergenceType, resid, maxBGamr, maxdeltaBGamr, maxdeltagamw, Vconv
)</code></pre><p>Update CSOR residual values in place.</p><p><strong>Arguments</strong></p><ul><li><code>convergence_type::ConvergenceType</code> : used for dispatch of relative or absolute residual values.</li><li><code>resid::Vector{Float}</code> : residual values modified in place</li><li><code>maxBGamr::Float</code> : Maximum value of B*Gamr among all blade elements</li><li><code>maxdeltaBGamr::Float</code> : Maximum change in B*Gamr between iterations among all blade elements</li><li><code>maxdeltagamw::Vector{Float}</code> : Maximum change in gamw among all wake nodes (one element)</li><li><code>Vconv::Float</code> : Reference velocity upon which the relative convergence criteria is based (one element)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L637-L651">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.check_CSOR_convergence!" href="#DuctAPE.check_CSOR_convergence!"><code>DuctAPE.check_CSOR_convergence!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">check_CSOR_convergence!(
    conv, resid; f_circ=1e-3, f_dgamw=2e-4, convergence_type=Relative(), verbose=false
)</code></pre><p>Description</p><p><strong>Arguments</strong></p><ul><li><code>conv::Vector{Float}</code> : container holding convergence flag</li><li><code>resid::Vector{Float}</code> : residual vector</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>f_circ::Float=1e-3</code> : convergence criteria for circulation residual</li><li><code>f_dgamw::Float=2e-4</code> : convergence criteria for wake strength residual</li><li><code>convergence_type::ConvergenceType=Relative()</code> : convergence type (absolute or relative) for print statements</li><li><code>verbose::Bool=false</code> : flag for verbose print statements</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/CSORresidual.jl#L670-L686">source</a></section></article><h5 id="External-Solvers"><a class="docs-heading-anchor" href="#External-Solvers">External Solvers</a><a id="External-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#External-Solvers" title="Permalink"></a></h5><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.system_residual" href="#DuctAPE.system_residual"><code>DuctAPE.system_residual</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">system_residual(state_variables, sensitivity_parameters, constants)</code></pre><p>The residual function for external solvers.</p><p><strong>Arguments</strong></p><ul><li><code>state_variables::Vector{Float}</code> : the state variables</li><li><code>sensitivity_parameters::Vector{Float}</code> : parameters to which the solution derivatives are sensitive</li><li><code>constants::NamedTuple</code> : parameters to which the solution derivatives are constant</li></ul><p><strong>Returs</strong></p><ul><li><code>resid::Vector{Float}</code> : residual vector</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/systemresidual.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.system_residual!" href="#DuctAPE.system_residual!"><code>DuctAPE.system_residual!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">system_residual!(resid, state_variables, sensitivity_parameters, constants)</code></pre><p>In-place version of system_residual.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/systemresidual.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.update_system_residual!" href="#DuctAPE.update_system_residual!"><code>DuctAPE.update_system_residual!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">update_system_residual!(
    solver_options::SolverOptionsType
    resid,
    vz_est,
    vz_rotor,
    vtheta_est,
    vtheta_rotor,
    Cm_est,
    Cm_wake,
    solve_parameter_cache_dims,
)</code></pre><p>Update the residual for external solvers.</p><p><strong>Arguments</strong></p><ul><li>`solver_options::SolverOptionsType</li><li><code>resid::Vector{Float}</code> : residual vector</li><li><code>vz_est::Vector{Float}</code> : axial induced rotor velocity estimate container</li><li><code>vz_rotor::Vector{Float}</code> : axial induced rotor velocity state container</li><li><code>vtheta_est::Vector{Float}</code> : tangential induced rotor velocity estimate container</li><li><code>vtheta_rotor::Vector{Float}</code> : tangential induced rotor velocity state container</li><li><code>Cm_est::Vector{Float}</code> : absolute meridional wake control point velocity estimate container</li><li><code>Cm_wake::Vector{Float}</code> : absolute meridional wake control point velocity state container</li><li><code>solve_parameter_cache_dims::Vector{Float}</code> : dimensions of state vectors to use in accessing the residual vector</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/systemresidual.jl#L102-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.estimate_states!" href="#DuctAPE.estimate_states!"><code>DuctAPE.estimate_states!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">estimate_states!(
    solve_containers,
    vz_rotor,
    vtheta_rotor,
    Cm_wake,
    operating_point,
    ivr,
    ivw,
    linsys,
    blade_elements,
    wakeK,
    idmaps;
    verbose=false,
)</code></pre><p>Estimate velocity states.</p><p><strong>Arguments</strong></p><ul><li><code>solve_containers::NamedTuple</code> : cache for intermediate values in solve</li><li><code>vz_rotor::Vector{Float}</code> : axial induced rotor velocity state container</li><li><code>vtheta_rotor::Vector{Float}</code> : tangential induced rotor velocity state container</li><li><code>Cm_wake::Vector{Float}</code> : absolute meridional wake control point velocity state container</li><li><code>operating_point::NamedTuple</code> : Named tuple containing operating_point information</li><li><code>ivr::NamedTuple</code> : unit induced velocities on rotor(s)</li><li><code>ivw::NamedTuple</code> : unit induced velocities on wake</li><li><code>linsys::NamedTuple</code> : vectors and matricies comprising the panel method linear system</li><li><code>blade_elements::NamedTuple</code> : blade element geometry and airfoil polar information</li><li><code>wakeK::Vector{Float}</code> : geometric constants used in caculating wake strengths</li><li><code>idmaps::NamedTuple</code> : index maps used throughout solve</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>verbose::Bool=false</code> : flag for verbose print statements</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/process/residuals/systemresidual.jl#L172-L205">source</a></section></article><h4 id="Solve-Utilities"><a class="docs-heading-anchor" href="#Solve-Utilities">Solve Utilities</a><a id="Solve-Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Solve-Utilities" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.extract_initial_guess" href="#DuctAPE.extract_initial_guess"><code>DuctAPE.extract_initial_guess</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_initial_guess(
    solver_options::SolverOptionsType, sensitivity_parameters, state_dims
)</code></pre><p>Extract initial guess from the solve parameters cache vector.</p><p><strong>Arguments</strong></p><ul><li><code>solver_options::SolverOptionsType</code> : used for dispatch</li><li><code>sensitivity_parameters::Vector{Float}</code> : vector form of solve parameter cache passed into the solver.</li><li><code>state_dims::NamedTuple</code> : dimensions and indices of state variables within the solve parameter cache vector</li></ul><p><strong>Returns</strong></p><ul><li>initial_guess::Vector{Float}` : a vector of the solver initial guess</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/utilities/package_states.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DuctAPE.extract_state_variables" href="#DuctAPE.extract_state_variables"><code>DuctAPE.extract_state_variables</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extract_state_variables(solver_options::SolverOptionsType, vars, dims)</code></pre><p>Reshape the state variables from a single vector, to multiple arrays.</p><p><strong>Arguments</strong></p><p><strong>Returns if solver_options &lt;: CSORSolverOptions</strong></p><ul><li><code>Gamr::type</code> : Blade element circulation strengths</li><li><code>sigr::type</code> : Rotor source panel strengths</li><li><code>gamw::type</code> : Wake vortex panel strengths</li></ul><p><strong>Returns if solver_options &lt;: Union{ExternalSolverOptions, PolyAlgorithmOptions}</strong></p><ul><li><code>vz_rotor::Vector{Float}</code> : axial induced rotor velocity state container</li><li><code>vtheta_rotor::Vector{Float}</code> : tangential induced rotor velocity state container</li><li><code>Cm_wake::Vector{Float}</code> : absolute meridional wake control point velocity state container</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/byuflowlab/DuctAPE.jl/blob/7715271fd852821b5b7cdec01de677ffab3e262f/src/utilities/package_states.jl#L30-L46">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../private_preprocess/">« Preprocess</a><a class="docs-footer-nextpage" href="../private_postprocess/">Postprocess »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Thursday 15 August 2024 19:50">Thursday 15 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
