# - Freestream and Operational Paramters - #
rhoinf = 1.226
muinf = 1.78e-5
Vinf = 20.0
Vref = 20.0
asound = 340.0
Omega = 1000.0 * pi / 30  # convert from RPM to rad/s

# - Paneling Paramters - #
nhub_inlet = 40   # number of panels on hub inlet
nduct_inlet = 40  # number of panels on duct inlet
nwake_sheets = 11 # number of wake sheets (one more than number of blade elemnets to get interpolated)
wake_length = 1.0 # non-dim length of wake aft of furthest TE, final lenght is chord*wake_length
npanels = [30, 20, 40] # number of panels between discrete points, here we have between rotor plane and ductTE, between ductTE and hubTE, and from hubTE to the end of the wake

# - ROTOR 1 - #
# x-position for
xrotor = 0.5
# number of blades for
B = 5
#rotor tip radius
Rtip = 0.7605
#rotor hub radius
Rhub = 0.16

# dimensional radial positions.
r = 0.16:0.06669722222222223:0.760275
# dimensonal chord lengths
chords = [
    0.089142,
    0.079785,
    0.0713,
    0.063979,
    0.057777,
    0.052541,
    0.048103,
    0.044316,
    0.041061,
    0.038243,
]
# twists in radians
twists = [
    1.2044866233863267,
    1.0322226262144865,
    0.9045168848460613,
    0.8075987514828161,
    0.732200527796661,
    0.6721088416504963,
    0.6230650896694556,
    0.5821371187101886,
    0.5471432672077023,
    0.5165476454202417,
]

# DFDC-like airfoil parameters
afparams = dt.DFDCairfoil(
    0.0, 1.5, -1.0, 6.28, 0.5, 0.2, 0.012, 0.1, 0.005, 0.0, 200000.0, 0.35, 0.7
)
# airfoils at each radial position
airfoils = fill(afparams, length(r))

# - Assemble the Analysis Inputs - #
# freestream parameters
freestream = (; rhoinf, muinf, asound, Vinf)
# reference parameters used in post-process
reference_parameters = (; Vref, Rref=Rtip)
# paneling constants used for geometry re-definition (for bodies and wake)
paneling_constants = (; npanels, nhub_inlet, nduct_inlet, wake_length, nwake_sheets)
# used for blade element and source panel definition
rotor_parameters = [(;
    xrotor,
    nwake_sheets,
    r=r ./ Rtip, #non-dimensionalize
    chords,
    twists,
    airfoils,
    Rtip,
    Rhub,
    tip_gap=0.0,
    B,
    Omega,
)]

# body coordinates in [x r] format.  Both duct and hub coordinates are inputs into the analysis
# note: this is the smoothed 200 panel duct geometry.
duct_coordinates = [
    1.0 0.8350000000000001
    0.9997482711915926 0.8350080999844046
    0.9989933382359422 0.8350340301304457
    0.9977359612865423 0.8350825671286416
    0.9959774064153977 0.8351616093095197
    0.9937194443381971 0.8352823132198952
    0.9909643486313533 0.8354587250855482
    0.9877148934427036 0.8357119003494814
    0.9839743506981782 0.8360637785135616
    0.9797464868072487 0.8365092928147373
    0.9750355588704727 0.8370545051101397
    0.9698463103929541 0.8377124632420554
    0.9641839665080363 0.8384876502146694
    0.9580542287160347 0.8393861154139296
    0.9514632691433105 0.8404139035595524
    0.9444177243274616 0.8415722720489288
    0.9369246885348925 0.8428630406133086
    0.9289917066174884 0.8442851263071984
    0.9206267664155905 0.8458377314781427
    0.9118382907149163 0.8475220490030787
    0.9026351287655293 0.849332592520202
    0.8930265473713936 0.8512634330160754
    0.883022221559489 0.8533106265937197
    0.8726322248378773 0.855467445995222
    0.861867019052535 0.8577272705406482
    0.8507374438531607 0.8600840366736073
    0.839254705778566 0.8625299229036935
    0.8274303669726425 0.865060976785797
    0.8152763335422613 0.8676673182594091
    0.8028048435688333 0.8703344876097044
    0.790028454785599 0.8730484490858799
    0.7769600319330552 0.8757897576290758
    0.7636127338052512 0.8785443850390289
    0.7499999999999999 0.8812847506576345
    0.7361355373863413 0.8840019653925418
    0.7220333063028871 0.8866858989157121
    0.7077075065009433 0.8893219064348578
    0.6931725628465643 0.8919092458477385
    0.6784431107959359 0.894426356075195
    0.6635339816587107 0.8968291983695779
    0.6484601876641374 0.8990812964728362
    0.6332369068450175 0.901123798056276
    0.6178794677547135 0.902906292528576
    0.6024033340325953 0.9044189551446293
    0.5868240888334652 0.9056850198812018
    0.5711574191366425 0.9067342685983882
    0.5554190999505055 0.9076051427926547
    0.5396249784283943 0.9083264719796665
    0.5237909579118711 0.9089119315824367
    0.507932981917404 0.9093679396245862
    0.4920670180825959 0.9096933140059642
    0.4762090420881288 0.9099024633698876
    0.46037502157160576 0.9099948288683084
    0.44458090004949447 0.9099714264996354
    0.42884258086335747 0.9098407056443757
    0.4131759111665347 0.9095937278496012
    0.39759666596740456 0.9092418466831993
    0.38212053224528636 0.908790510426045
    0.36676309315498246 0.9082305174550571
    0.3515398123358625 0.9075767675796372
    0.3364660183412891 0.9068252570997962
    0.32155688920406406 0.9059828563892671
    0.30682743715343574 0.9050496765963798
    0.2922924934990568 0.9040280608187559
    0.2779666936971129 0.9029219254390801
    0.26386446261365865 0.9017297317092683
    0.24999999999999994 0.9004539611249107
    0.2363872661947488 0.8991042974386396
    0.22303996806694482 0.8976766825323623
    0.20997154521440087 0.8961829904107594
    0.1971951564311667 0.8946188303319561
    0.18472366645773874 0.8929915207142913
    0.17256963302735745 0.8913051029855553
    0.1607452942214339 0.8895572340090675
    0.14926255614683936 0.8877497775015449
    0.1381329809474649 0.8858856845707013
    0.1273677751621226 0.8839691645190954
    0.11697777844051094 0.8820115639105907
    0.10697345262860625 0.8800185545365415
    0.09736487123447068 0.8779976212681899
    0.0881617092850836 0.8759592672902223
    0.0793732335844094 0.8739027831033148
    0.07100829338251147 0.8718307780562257
    0.06307531146510753 0.8697466482366326
    0.05558227567253826 0.8676471279746593
    0.04853673085668936 0.8655326480391448
    0.041945771283965205 0.8634247343451718
    0.03581603349196372 0.861341593773851
    0.030153689607045786 0.8593005373481978
    0.02496444112952728 0.8573150555573625
    0.020253513192751316 0.8553913898711566
    0.016025649301821876 0.8534876760796714
    0.012285106557296477 0.8515453062658361
    0.009035651368646647 0.8495192829835343
    0.006280555661802856 0.8473744700570468
    0.00402259358460233 0.8450813521816795
    0.0022640387134577056 0.8426853049713366
    0.0010066617640577813 0.8401723599223315
    0.0002517288084074587 0.837656847733823
    0.0 0.835
    0.0002517288084074587 0.8323431522661768
    0.0010066617640577813 0.8298276400776684
    0.0022640387134577056 0.8273146950286634
    0.00402259358460233 0.8249186478183204
    0.006280555661802856 0.8226255299429531
    0.009035651368646647 0.8204807170164655
    0.012285106557296477 0.8184546937341637
    0.016025649301821876 0.8165123239203286
    0.020253513192751316 0.8146086101288433
    0.02496444112952728 0.8126849444426374
    0.030153689607045786 0.8106994626518021
    0.03581603349196372 0.8086584062261488
    0.041945771283965205 0.8065752656548282
    0.04853673085668936 0.8044673519608552
    0.05558227567253826 0.8023528720253407
    0.06307531146510753 0.8002533517633672
    0.07100829338251147 0.7981692219437743
    0.0793732335844094 0.7960972168966849
    0.0881617092850836 0.7940407327097776
    0.09736487123447068 0.79200237873181
    0.10697345262860625 0.7899814454634584
    0.11697777844051094 0.7879884360894092
    0.1273677751621226 0.7860308354809046
    0.1381329809474649 0.7841143154292987
    0.14926255614683936 0.782250222498455
    0.1607452942214339 0.7804427659909324
    0.17256963302735745 0.7786948970144446
    0.18472366645773874 0.7770084792857086
    0.1971951564311667 0.7753811696680439
    0.20997154521440087 0.7738170095892404
    0.22303996806694482 0.7723233174676376
    0.2363872661947488 0.7708957025613603
    0.24999999999999994 0.7695460388750892
    0.26386446261365865 0.7682702682907316
    0.2779666936971129 0.7670780745609199
    0.2922924934990568 0.7659719391812441
    0.30682743715343574 0.7649503234036201
    0.32155688920406406 0.7640171436107329
    0.3364660183412891 0.7631747429002037
    0.3515398123358625 0.7624232324203627
    0.36676309315498246 0.7617694825449428
    0.38212053224528636 0.761209489573955
    0.39759666596740456 0.7607581533168005
    0.4131759111665347 0.7604062721503987
    0.42884258086335747 0.7601592943556242
    0.44458090004949447 0.7600285735003646
    0.46037502157160576 0.7600051711316915
    0.4762090420881288 0.7600975366301124
    0.4920670180825959 0.7603066859940357
    0.507932981917404 0.7606320603754138
    0.5237909579118711 0.7610880684175632
    0.5396249784283943 0.7616735280203334
    0.5554190999505055 0.7623948572073453
    0.5711574191366425 0.7632657314016118
    0.5868240888334652 0.7643149801187981
    0.6024033340325953 0.7655810448553706
    0.6178794677547135 0.7670937074714237
    0.6332369068450175 0.768876201943724
    0.6484601876641374 0.7709187035271637
    0.6635339816587107 0.7731708016304222
    0.6784431107959359 0.775573643924805
    0.6931725628465643 0.7780907541522614
    0.7077075065009433 0.7806780935651422
    0.7220333063028871 0.7833141010842878
    0.7361355373863413 0.7859980346074579
    0.7499999999999999 0.7887152493423654
    0.7636127338052512 0.7914556149609713
    0.7769600319330552 0.794210242370924
    0.790028454785599 0.7969515509141201
    0.8028048435688333 0.7996655123902955
    0.8152763335422613 0.8023326817405907
    0.8274303669726425 0.804939023214203
    0.839254705778566 0.8074700770963066
    0.8507374438531607 0.8099159633263926
    0.861867019052535 0.8122727294593518
    0.8726322248378773 0.814532554004778
    0.883022221559489 0.8166893734062803
    0.8930265473713936 0.8187365669839246
    0.9026351287655293 0.820667407479798
    0.9118382907149163 0.8224779509969213
    0.9206267664155905 0.8241622685218574
    0.9289917066174884 0.8257148736928014
    0.9369246885348925 0.8271369593866913
    0.9444177243274616 0.8284277279510711
    0.9514632691433105 0.8295860964404475
    0.9580542287160347 0.8306138845860704
    0.9641839665080363 0.8315123497853304
    0.9698463103929541 0.8322875367579445
    0.9750355588704727 0.8329454948898601
    0.9797464868072487 0.8334907071852626
    0.9839743506981782 0.8339362214864384
    0.9877148934427036 0.8342880996505185
    0.9909643486313533 0.8345412749144517
    0.9937194443381971 0.8347176867801048
    0.9959774064153977 0.8348383906904803
    0.9977359612865423 0.8349174328713583
    0.9989933382359422 0.8349659698695542
    0.9997482711915926 0.8349919000155953
    1.0 0.8349999999999999
]
hub_coordinates = [
    0.0 1.959434878635765e-17
    0.0005464811189328234 0.013212695275573156
    0.0021821914555644195 0.026335134444917446
    0.004895957449707111 0.03927767794252785
    0.008669241327898453 0.05195191507274938
    0.013476267735190811 0.0642712679444751
    0.019284199806961777 0.0761515828859318
    0.026053363477995445 0.0875117052995883
    0.03373751849657705 0.09827403403034687
    0.04228417429229894 0.10836505146011856
    0.05163494853988146 0.11771582570770107
    0.06172596596965316 0.12626248150342298
    0.07248829470041172 0.1339466365220046
    0.08384841711406824 0.14071580019303825
    0.0957287320555249 0.1465237322648092
    0.10804808492725065 0.15133075867210155
    0.12072232205747215 0.15510404255029286
    0.13366486555508258 0.15781780854443558
    0.14678730472442683 0.15945351888106718
    0.16 0.16
    0.18617993877991496 0.16
    0.21235987755982988 0.16
    0.23853981633974483 0.16
    0.2647197551196598 0.16
    0.2908996938995747 0.16
    0.3170796326794897 0.16
    0.34325957145940456 0.16
    0.36943951023931954 0.16
    0.3956194490192345 0.16
    0.4217993877991494 0.16
    0.44797932657906436 0.16
    0.47415926535897934 0.16
    0.5003392041388942 0.16
    0.5265191429188092 0.16
    0.5526990816987242 0.16
    0.578879020478639 0.16
    0.605058959258554 0.16
    0.631238898038469 0.16
    0.6574188368183839 0.16
    0.6835987755982988 0.16
    0.7097787143782138 0.16
    0.7359586531581287 0.16
    0.7621385919380437 0.16
    0.7896377468499508 0.15272727272727274
    0.8171369017618578 0.14545454545454545
    0.844636056673765 0.13818181818181818
    0.8721352115856721 0.13090909090909092
    0.8996343664975792 0.12363636363636364
    0.9271335214094862 0.11636363636363636
    0.9546326763213934 0.10909090909090909
    0.9821318312333005 0.10181818181818182
    1.0096309861452075 0.09454545454545454
    1.0371301410571148 0.08727272727272727
    1.0646292959690218 0.08
    1.0921284508809288 0.07272727272727272
    1.119627605792836 0.06545454545454545
    1.147126760704743 0.058181818181818175
    1.17462591561665 0.050909090909090904
    1.2021250705285573 0.04363636363636363
    1.2296242254404643 0.036363636363636355
    1.2571233803523716 0.029090909090909084
    1.2846225352642786 0.021818181818181813
    1.3121216901761856 0.014545454545454539
    1.3396208450880929 0.007272727272727265
]
